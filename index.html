<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Political Ontology Graph</title>
  <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
  <style>
    body { margin: 0; font-family: sans-serif; }
    #cy { width: 100vw; height: 100vh; }
  </style>
</head>
<body>
  <div id="cy"></div>

  <script>
    fetch('graph.json')
      .then(res => res.json())
      .then(data => {
        const cy = cytoscape({
          container: document.getElementById('cy'),
          elements: data,
          style: [
            {
              selector: 'node',
              style: {
                'label': 'data(label)',
                'background-color': ele => {
                  const type = ele.data('type');
                  if (type === 'Individual') return '#1f77b4';
                  if (type === 'Campaign') return '#d62728';
                  if (type === 'Institution') return '#2ca02c';
                  return '#777';
                },
                'color': '#fff',
                'text-outline-width': 1,
                'text-outline-color': '#000',
                'text-valign': 'center'
              }
            },
            {
              selector: 'edge',
              style: {
                'label': 'data(label)',
                'curve-style': 'bezier',
                'target-arrow-shape': 'triangle',
                'line-color': '#aaa',
                'target-arrow-color': '#aaa',
                'font-size': 12,
                'text-rotation': 'autorotate',
                'text-margin-y': -10
              }
            }
          ],
          layout: { name: 'cose', animate: true }
        });
      })
      .catch(err => console.error('Failed to load graph.json:', err));
  </script>
</body>
</html>
